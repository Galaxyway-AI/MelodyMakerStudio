{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["// import { NextResponse } from \"next/server\";\n// import { Ratelimit } from \"@upstash/ratelimit\";\n// import { Redis } from \"@upstash/redis\";\n\nimport { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\n// import { appRoutes } from \"./config/routes\";\n// import { env } from \"./lib/env\";\n\n// const ratelimit = new Ratelimit({\n//   redis: Redis.fromEnv(),\n//   limiter: Ratelimit.slidingWindow(env.RATE_LIMITING_REQUESTS_PER_SECOND, \"1s\"),\n// });\n\nexport async function middleware(request: NextRequest) {\n  const session = request.cookies.get(\"session\");\n\n  // Protected routes pattern\n  const protectedRoutes = [\"/dashboard\", \"/admin-dashboard\", \"/create\", \"/settings\"];\n  const isProtectedRoute = protectedRoutes.some((route) =>\n    request.nextUrl.pathname.startsWith(route)\n  );\n\n  // Auth routes (login/signup)\n  const authRoutes = [\"/adminlogin\", \"/signup\"];\n  const isAuthRoute = authRoutes.some((route) =>\n    request.nextUrl.pathname.startsWith(route)\n  );\n\n  if (isProtectedRoute && !session) {\n    return NextResponse.redirect(new URL(\"/adminlogin\", request.url));\n  }\n\n  if (isAuthRoute && session) {\n    return NextResponse.redirect(new URL(\"/admin-dashboard\", request.url));\n  }\n\n  return NextResponse.next();\n}\n\n// export { auth as middleware } from \"auth\"\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */\n    \"/((?!api|_next/static|_next/image|favicon.ico).*)\",\n  ],\n};\n"],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,kDAAkD;AAClD,0CAA0C;;;;;;;AAE1C;AAAA;;AAWO,eAAe,WAAW,OAAoB;IACnD,MAAM,UAAU,QAAQ,OAAO,CAAC,GAAG,CAAC;IAEpC,2BAA2B;IAC3B,MAAM,kBAAkB;QAAC;QAAc;QAAoB;QAAW;KAAY;IAClF,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAC7C,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAGtC,6BAA6B;IAC7B,MAAM,aAAa;QAAC;QAAe;KAAU;IAC7C,MAAM,cAAc,WAAW,IAAI,CAAC,CAAC,QACnC,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAGtC,IAAI,oBAAoB,CAAC,SAAS;QAChC,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,QAAQ,GAAG;IACjE;IAEA,IAAI,eAAe,SAAS;QAC1B,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,oBAAoB,QAAQ,GAAG;IACtE;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAIO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;KAMC,GACD;KACD;AACH"}}]
}