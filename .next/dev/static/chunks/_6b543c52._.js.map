{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer size-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"size-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,iTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAW,IAAA,qHAAE,EAAC;sBAEd,cAAA,6LAAC,gNAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva } from \"class-variance-authority\";\n\nimport type { VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAIA;AARA;;;;;;AAUA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/components/ui/form.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Controller, FormProvider, useFormContext } from \"react-hook-form\";\n\nimport type * as LabelPrimitive from \"@radix-ui/react-label\";\nimport type { ControllerProps, FieldPath, FieldValues } from \"react-hook-form\";\n\nimport { Label } from \"@/components/ui/label\";\nimport { cn } from \"@/lib/utils\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\");\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n);\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId();\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  );\n});\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  );\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } =\n    useFormField();\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error ?\n          `${formDescriptionId}`\n        : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  );\n});\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField();\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  );\n});\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField();\n  const body = error ? String(error?.message) : children;\n\n  if (!body) {\n    return null;\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-xs font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  );\n});\nFormMessage.displayName = \"FormMessage\";\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,2KAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/actions/updateArtist.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { Artist } from \"@/lib/db/firestore-schema\";\r\nimport { updateArtist as updateArtistInFirestore } from \"@/lib/db/firestore-queries\";\r\nimport { getServerUser } from \"@/lib/auth-helpers\";\r\n\r\nexport async function updateArtist(\r\n    artistId: string,\r\n    data: Partial<Omit<Artist, \"id\" | \"createdAt\" | \"updatedAt\">>\r\n) {\r\n    const user = await getServerUser();\r\n    if (!user || user.email !== \"melodymakercontact@gmail.com\") {\r\n        return { error: \"Unauthorized: You do not have permission to perform this action.\" };\r\n    }\r\n\r\n    try {\r\n        await updateArtistInFirestore(artistId, data);\r\n        revalidatePath(\"/admin/artists\");\r\n        revalidatePath(`/admin/artists/${artistId}`);\r\n        if (data.slug) {\r\n            revalidatePath(`/artist/${data.slug}`);\r\n        }\r\n        return { success: true };\r\n    } catch (error) {\r\n        console.error(\"Error updating artist:\", error);\r\n        return { error: `Failed to update artist: ${(error as Error).message}` };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAOsB,eAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/actions/createArtist.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { adminDb } from \"@/lib/firebase-admin\";\r\nimport { Artist } from \"@/lib/db/firestore-schema\";\r\n\r\nexport async function createArtist(data: Omit<Artist, \"id\" | \"createdAt\" | \"updatedAt\">) {\r\n    try {\r\n        const docRef = await adminDb.collection(\"artists\").add({\r\n            ...data,\r\n            createdAt: new Date(),\r\n            updatedAt: new Date(),\r\n        });\r\n\r\n        return { success: true, data: { id: docRef.id, ...data } };\r\n    } catch (error) {\r\n        console.error(\"Error creating artist:\", error);\r\n        return { error: \"Failed to create artist\" };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAKsB,eAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/actions/uploadFile.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { adminStorage } from \"@/lib/firebase-admin\";\r\nimport { getServerUser } from \"@/lib/auth-helpers\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport async function uploadFile(formData: FormData) {\r\n    const user = await getServerUser();\r\n    if (!user) {\r\n        return { error: \"Unauthorized\" };\r\n    }\r\n\r\n    const file = formData.get(\"file\") as File;\r\n    const path = formData.get(\"path\") as string;\r\n\r\n    if (!file || !path) {\r\n        return { error: \"Missing file or path\" };\r\n    }\r\n\r\n    try {\r\n        console.log(`[uploadFile] Starting upload for path: ${path}, type: ${file.type}, size: ${file.size}`);\r\n        const buffer = Buffer.from(await file.arrayBuffer());\r\n        const bucket = adminStorage.bucket();\r\n        console.log(`[uploadFile] Using bucket: ${bucket.name}`);\r\n        const fileRef = bucket.file(path);\r\n        const token = uuidv4();\r\n\r\n        await fileRef.save(buffer, {\r\n            metadata: {\r\n                contentType: file.type,\r\n                metadata: {\r\n                    firebaseStorageDownloadTokens: token,\r\n                },\r\n            },\r\n        });\r\n        console.log(`[uploadFile] File saved to bucket`);\r\n\r\n        const bucketName = bucket.name;\r\n        // const encodedPath = encodeURIComponent(path).replace(/%2F/g, \"/\"); \r\n\r\n        const downloadUrl = `https://firebasestorage.googleapis.com/v0/b/${bucketName}/o/${encodeURIComponent(path)}?alt=media&token=${token}`;\r\n        console.log(`[uploadFile] Generated download URL: ${downloadUrl}`);\r\n\r\n        return { success: true, url: downloadUrl };\r\n    } catch (error) {\r\n        console.error(\"Error uploading file via server action:\", error);\r\n        return { error: \"Upload failed\" };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAMsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":["file:///X:/Apps/MelodyMakerStudio/components/admin/forms/add-artist-form.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport { toast } from \"sonner\";\r\nimport { Loader2, X, Image as ImageIcon, CheckCircle2, Instagram, Twitter, Music2, Youtube } from \"lucide-react\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Form,\r\n    FormControl,\r\n    FormField,\r\n    FormItem,\r\n    FormLabel,\r\n    FormMessage,\r\n    FormDescription,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { updateArtist } from \"@/actions/updateArtist\";\r\nimport { createArtist } from \"@/actions/createArtist\";\r\nimport { Artist } from \"@/lib/db/firestore-schema\";\r\nimport { useAuth } from \"@/contexts/auth-context\";\r\nimport { uploadFile } from \"@/actions/uploadFile\";\r\n\r\nconst artistGenres = [\"Pop\", \"R&B\", \"Hip Hop\", \"Rock\", \"Country\", \"Jazz\", \"Electronic\", \"Classical\", \"Other\"];\r\n\r\n// --- Schema ---\r\nconst formSchema = z.object({\r\n    name: z.string().min(1, { message: \"Artist name is required\" }),\r\n    bio: z.string().min(10, { message: \"Bio must be at least 10 characters\" }),\r\n    slug: z.string().min(1, { message: \"Slug is required\" }),\r\n    image: z.custom<File>((v) => v instanceof File, { message: \"Profile image is required\" }).optional(),\r\n\r\n    // Social Links (Optional)\r\n    instagram: z.string().optional(),\r\n    twitter: z.string().optional(),\r\n    spotify: z.string().optional(),\r\n    youtube: z.string().optional(),\r\n\r\n    // Content\r\n    genre: z.array(z.string()).optional(),\r\n    videos: z.array(z.string()).optional(),\r\n});\r\n\r\ninterface AddArtistFormProps {\r\n    initialData?: Omit<Artist, \"createdAt\" | \"updatedAt\"> & {\r\n        createdAt?: Date | string;\r\n        updatedAt?: Date | string;\r\n    };\r\n}\r\n\r\nexport function AddArtistForm({ initialData }: AddArtistFormProps) {\r\n    const { user } = useAuth();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [mounted, setMounted] = useState(false);\r\n    const [videoInput, setVideoInput] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setMounted(true);\r\n    }, []);\r\n\r\n    const [imagePreview, setImagePreview] = useState<string | null>(initialData?.image || null);\r\n\r\n    const form = useForm<z.infer<typeof formSchema>>({\r\n        resolver: zodResolver(formSchema),\r\n        defaultValues: {\r\n            name: initialData?.name || \"\",\r\n            bio: initialData?.bio || \"\",\r\n            slug: initialData?.slug || \"\",\r\n            instagram: initialData?.instagram || \"\",\r\n            twitter: initialData?.twitter || \"\",\r\n            spotify: initialData?.spotify || \"\",\r\n            youtube: initialData?.youtube || \"\",\r\n            genre: initialData?.genre || [],\r\n            videos: initialData?.videos || [],\r\n        },\r\n    });\r\n\r\n    // Auto-generate slug from name\r\n    function handleNameChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n        if (initialData) return; // Don't auto-change slug when editing\r\n        const name = e.target.value;\r\n        form.setValue(\"name\", name);\r\n        const slug = name.toLowerCase().replace(/[^a-z0-9]+/g, \"-\").replace(/(^-|-$)+/g, \"\");\r\n        form.setValue(\"slug\", slug);\r\n    }\r\n\r\n    // --- File Upload Helper ---\r\n    async function uploadFileToStorage(file: File) {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        const timestamp = Date.now();\r\n        const sanitizedName = file.name.replace(/[^a-zA-Z0-9.]/g, \"_\");\r\n        const path = `artists/${user!.uid}/${timestamp}_${sanitizedName}`;\r\n        formData.append(\"path\", path);\r\n        return await uploadFile(formData);\r\n    }\r\n\r\n    // --- Video Helper ---\r\n    const extractYoutubeId = (url: string) => {\r\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n        const match = url.match(regExp);\r\n        return (match && match[2].length === 11) ? match[2] : null;\r\n    };\r\n\r\n    const addVideo = () => {\r\n        const videoId = extractYoutubeId(videoInput);\r\n        if (videoId) {\r\n            const currentVideos = form.getValues(\"videos\") || [];\r\n            if (!currentVideos.includes(videoId)) {\r\n                form.setValue(\"videos\", [...currentVideos, videoId]);\r\n                setVideoInput(\"\");\r\n                toast.success(\"Video added!\");\r\n            } else {\r\n                toast.error(\"Video already added\");\r\n            }\r\n        } else {\r\n            toast.error(\"Invalid YouTube URL\");\r\n        }\r\n    };\r\n\r\n    const removeVideo = (videoId: string) => {\r\n        const currentVideos = form.getValues(\"videos\") || [];\r\n        form.setValue(\"videos\", currentVideos.filter(v => v !== videoId));\r\n    };\r\n\r\n    // --- Submit Handler ---\r\n    async function onSubmit(values: z.infer<typeof formSchema>) {\r\n        if (!user) {\r\n            toast.error(\"You must be logged in.\");\r\n            return;\r\n        }\r\n\r\n        // Manual validation for create mode\r\n        if (!initialData && !values.image) {\r\n            form.setError(\"image\", { message: \"Profile image is required\" });\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setIsLoading(true);\r\n            let imageUrl = initialData?.image || \"\";\r\n\r\n            if (values.image instanceof File) {\r\n                const imageRes = await uploadFileToStorage(values.image);\r\n                if (imageRes.error || !imageRes.url) throw new Error(imageRes.error || \"Image upload failed\");\r\n                imageUrl = imageRes.url;\r\n            }\r\n\r\n            const artistData = {\r\n                name: values.name,\r\n                slug: values.slug,\r\n                bio: values.bio,\r\n                image: imageUrl,\r\n                genre: values.genre,\r\n                videos: values.videos,\r\n                instagram: values.instagram || \"\",\r\n                twitter: values.twitter || \"\",\r\n                spotify: values.spotify || \"\",\r\n                youtube: values.youtube || \"\",\r\n            };\r\n\r\n            // 2. Create or Update Artist Record\r\n            if (initialData) {\r\n                const result = await updateArtist(initialData.id, artistData);\r\n                if (result.error) throw new Error(result.error);\r\n                toast.success(\"Artist updated successfully!\");\r\n            } else {\r\n                const result = await createArtist({\r\n                    ...artistData,\r\n                    instagram: values.instagram || \"\",\r\n                    twitter: values.twitter || \"\",\r\n                    spotify: values.spotify || \"\",\r\n                    youtube: values.youtube || \"\",\r\n                });\r\n                if (result.error) throw new Error(result.error);\r\n                toast.success(\"Artist added successfully!\");\r\n                form.reset();\r\n                setImagePreview(null);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error(error instanceof Error ? error.message : \"Something went wrong\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    if (!mounted) return null;\r\n\r\n    return (\r\n        <Form {...form}>\r\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-8\">\r\n\r\n                <div className=\"grid gap-8 md:grid-cols-3\">\r\n                    {/* Left Column: Image Upload */}\r\n                    <div className=\"md:col-span-1 space-y-6\">\r\n                        <Card className=\"bg-card/50 backdrop-blur-sm border-primary/10 h-full\">\r\n                            <CardHeader>\r\n                                <CardTitle>Profile Image</CardTitle>\r\n                                <CardDescription>Upload artist photo.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"image\"\r\n                                    render={({ field: { value, onChange, ...fieldProps } }) => (\r\n                                        <FormItem>\r\n                                            <FormControl>\r\n                                                <div className=\"flex flex-col items-center justify-center w-full\">\r\n                                                    {!imagePreview ? (\r\n                                                        <label className=\"flex flex-col items-center justify-center w-full aspect-square border-2 border-dashed rounded-full cursor-pointer hover:bg-accent/50 transition-colors border-muted-foreground/25\">\r\n                                                            <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\r\n                                                                <ImageIcon className=\"w-10 h-10 mb-3 text-muted-foreground\" />\r\n                                                                <p className=\"text-xs text-muted-foreground\">Click to upload</p>\r\n                                                            </div>\r\n                                                            <Input\r\n                                                                {...fieldProps}\r\n                                                                type=\"file\"\r\n                                                                accept=\"image/*\"\r\n                                                                className=\"hidden\"\r\n                                                                onChange={(e) => {\r\n                                                                    const file = e.target.files?.[0];\r\n                                                                    if (file) {\r\n                                                                        onChange(file);\r\n                                                                        setImagePreview(URL.createObjectURL(file));\r\n                                                                    }\r\n                                                                }}\r\n                                                            />\r\n                                                        </label>\r\n                                                    ) : (\r\n                                                        <div className=\"relative w-full aspect-square rounded-full overflow-hidden border border-border group\">\r\n                                                            <img src={imagePreview} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                                                            <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\r\n                                                                <Button\r\n                                                                    variant=\"destructive\"\r\n                                                                    size=\"icon\"\r\n                                                                    className=\"rounded-full\"\r\n                                                                    type=\"button\"\r\n                                                                    onClick={() => {\r\n                                                                        onChange(undefined);\r\n                                                                        setImagePreview(null);\r\n                                                                    }}\r\n                                                                >\r\n                                                                    <X className=\"h-4 w-4\" />\r\n                                                                </Button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            </FormControl>\r\n                                            <FormMessage className=\"text-center mt-2\" />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n\r\n                    {/* Right Column: Details */}\r\n                    <div className=\"md:col-span-2 space-y-6\">\r\n                        <Card className=\"bg-card/50 backdrop-blur-sm border-primary/10\">\r\n                            <CardHeader>\r\n                                <CardTitle>{initialData ? \"Edit Artist\" : \"Artist Details\"}</CardTitle>\r\n                                <CardDescription>Basic information and bio.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                                    <FormField\r\n                                        control={form.control}\r\n                                        name=\"name\"\r\n                                        render={({ field }) => (\r\n                                            <FormItem>\r\n                                                <FormLabel>Artist Name</FormLabel>\r\n                                                <FormControl>\r\n                                                    <Input placeholder=\"e.g. The Weeknd\" {...field} onChange={(e) => {\r\n                                                        field.onChange(e);\r\n                                                        handleNameChange(e);\r\n                                                    }} />\r\n                                                </FormControl>\r\n                                                <FormMessage />\r\n                                            </FormItem>\r\n                                        )}\r\n                                    />\r\n                                    <FormField\r\n                                        control={form.control}\r\n                                        name=\"slug\"\r\n                                        render={({ field }) => (\r\n                                            <FormItem>\r\n                                                <FormLabel>Slug (URL)</FormLabel>\r\n                                                <FormControl>\r\n                                                    <Input placeholder=\"e.g. the-weeknd\" {...field} />\r\n                                                </FormControl>\r\n                                                <FormMessage />\r\n                                            </FormItem>\r\n                                        )}\r\n                                    />\r\n                                </div>\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"bio\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>Biography</FormLabel>\r\n                                            <FormControl>\r\n                                                <Textarea placeholder=\"Artist biography...\" className=\"h-32 resize-none\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card className=\"bg-card/50 backdrop-blur-sm border-primary/10\">\r\n                            <CardHeader>\r\n                                <CardTitle>Genres</CardTitle>\r\n                                <CardDescription>Select all that apply.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"genre\"\r\n                                    render={() => (\r\n                                        <FormItem>\r\n                                            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\r\n                                                {artistGenres.map((item) => (\r\n                                                    <FormField\r\n                                                        key={item}\r\n                                                        control={form.control}\r\n                                                        name=\"genre\"\r\n                                                        render={({ field }) => {\r\n                                                            return (\r\n                                                                <FormItem\r\n                                                                    key={item}\r\n                                                                    className=\"flex flex-row items-start space-x-3 space-y-0\"\r\n                                                                >\r\n                                                                    <FormControl>\r\n                                                                        <Checkbox\r\n                                                                            checked={field.value?.includes(item)}\r\n                                                                            onCheckedChange={(checked) => {\r\n                                                                                return checked\r\n                                                                                    ? field.onChange([...(field.value || []), item])\r\n                                                                                    : field.onChange(\r\n                                                                                        field.value?.filter(\r\n                                                                                            (value) => value !== item\r\n                                                                                        )\r\n                                                                                    )\r\n                                                                            }}\r\n                                                                        />\r\n                                                                    </FormControl>\r\n                                                                    <FormLabel className=\"font-normal\">\r\n                                                                        {item}\r\n                                                                    </FormLabel>\r\n                                                                </FormItem>\r\n                                                            )\r\n                                                        }}\r\n                                                    />\r\n                                                ))}\r\n                                            </div>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card className=\"bg-card/50 backdrop-blur-sm border-primary/10\">\r\n                            <CardHeader>\r\n                                <CardTitle>Social Links</CardTitle>\r\n                                <CardDescription>Connect with fans.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"grid gap-4 sm:grid-cols-2\">\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"instagram\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel className=\"flex items-center gap-2\"><Instagram className=\"h-4 w-4\" /> Instagram</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input placeholder=\"Profile URL\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"twitter\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel className=\"flex items-center gap-2\"><Twitter className=\"h-4 w-4\" /> Twitter / X</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input placeholder=\"Profile URL\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"spotify\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel className=\"flex items-center gap-2\"><Music2 className=\"h-4 w-4\" /> Spotify</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input placeholder=\"Artist URL\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"youtube\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel className=\"flex items-center gap-2\"><Youtube className=\"h-4 w-4\" /> YouTube</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input placeholder=\"Channel URL\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card className=\"bg-card/50 backdrop-blur-sm border-primary/10\">\r\n                            <CardHeader>\r\n                                <CardTitle>Featured Videos</CardTitle>\r\n                                <CardDescription>Add YouTube videos to the artist page.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"flex gap-2\">\r\n                                    <Input\r\n                                        placeholder=\"Paste YouTube URL\"\r\n                                        value={videoInput}\r\n                                        onChange={(e) => setVideoInput(e.target.value)}\r\n                                        onKeyDown={(e) => {\r\n                                            if (e.key === 'Enter') {\r\n                                                e.preventDefault();\r\n                                                addVideo();\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                    <Button type=\"button\" onClick={addVideo} variant=\"secondary\">Add</Button>\r\n                                </div>\r\n\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"videos\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <div className=\"grid gap-2\">\r\n                                                {field.value?.map((videoId) => (\r\n                                                    <div key={videoId} className=\"flex items-center gap-2 bg-muted/50 p-2 rounded-md group\">\r\n                                                        <div className=\"w-24 aspect-video bg-black rounded overflow-hidden flex-shrink-0\">\r\n                                                            <img\r\n                                                                src={`https://img.youtube.com/vi/${videoId}/default.jpg`}\r\n                                                                alt=\"Video thumbnail\"\r\n                                                                className=\"w-full h-full object-cover\"\r\n                                                            />\r\n                                                        </div>\r\n                                                        <div className=\"flex-1 min-w-0\">\r\n                                                            <p className=\"text-sm truncate font-medium\">https://youtu.be/{videoId}</p>\r\n                                                        </div>\r\n                                                        <Button\r\n                                                            type=\"button\"\r\n                                                            variant=\"ghost\"\r\n                                                            size=\"icon\"\r\n                                                            className=\"text-muted-foreground hover:text-destructive\"\r\n                                                            onClick={() => removeVideo(videoId)}\r\n                                                        >\r\n                                                            <X className=\"h-4 w-4\" />\r\n                                                        </Button>\r\n                                                    </div>\r\n                                                ))}\r\n                                                {(!field.value || field.value.length === 0) && (\r\n                                                    <p className=\"text-sm text-muted-foreground text-center py-4\">No videos added yet.</p>\r\n                                                )}\r\n                                            </div>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Footer Actions */}\r\n                <div className=\"flex justify-end gap-4\">\r\n                    <Button variant=\"outline\" type=\"button\" onClick={() => form.reset()}>\r\n                        Reset\r\n                    </Button>\r\n                    <Button type=\"submit\" disabled={isLoading} className=\"min-w-[150px]\">\r\n                        {isLoading ? (\r\n                            <>\r\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                {initialData ? \"Updating...\" : \"Adding...\"}\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <CheckCircle2 className=\"mr-2 h-4 w-4\" />\r\n                                {initialData ? \"Update Artist\" : \"Add Artist\"}\r\n                            </>\r\n                        )}\r\n                    </Button>\r\n                </div>\r\n\r\n            </form>\r\n        </Form>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}